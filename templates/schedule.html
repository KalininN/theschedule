{% extends "templates/base.html" %}
{% block title %}Расписание{% endblock %}
{% block content %}
<table class="schedule">
	<tr>
	{% for day in days %}
	<td class="day" {% if day.is_current %}id="current_day"{% endif %}>
	<table class="day">
	<caption>{{day.date|date}}, {{day.week_day|weekday}}</caption>
	{% for pair in day.pairs %}
		<tr class="pair" onclick="desc('{{ pair.classname }}','{{ day.week_day|weekday }}','{{ day.date|date }}','{{ pair.start_time|time }}','{{ pair.task }}'{%if is_admin%},'{{ pair.edit_link }}','{{ pair.delete_link }}'{%endif%})">
			<td class="pair">
			<div class="classname">{{ pair.classname }}</div>
			<div class="container">
                <div class="start_time">{{ pair.start_time|time }}</div>
                <span>
                {% if pair.replace %}
                    <div class="replace_tag">&#9679;</div>
                {% endif %}
                {% if pair.task %}
                    <div class="task_tag">&#9679;</div>
                {% endif %}
                </span>
            </div>
            </td>
		</tr>
	{% endfor %}
	</table>
	</td>
	{% endfor %}
	</tr>
</table>
<center>
<div id="classname"></div>
<div id="date"></div>
<div id="time"></div>
<div id="task"></div>
{% if is_admin %}
<div id="edit_link"></div>
<div id="delete_link"></div>
{% endif %}
</center>
<script>
function desc(classname,weekday,date,time,task{%if is_admin%},edit_link,delete_link{%endif%}){
	document.getElementById("classname").innerHTML ="<b>Предмет:</b> " + classname
	document.getElementById("date").innerHTML ="<b>Дата:</b> " + date + ", " + weekday
	document.getElementById("time").innerHTML ="<b>Время:</b> " + time
	if (task!='')
		{document.getElementById("task").innerHTML ="<b>Задание:</b> " + task}
	else 
		{document.getElementById("task").innerHTML =""}
{% if is_admin %}
    document.getElementById("edit_link").innerHTML="<a href='" + edit_link + "'>Редактировать</a>"
    document.getElementById("delete_link").innerHTML="<a href='" + delete_link + "'>Удалить</a>"
{% endif %}
}
</script>
{% endblock %}
